

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Input files and running the code &mdash; RUMDEED  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=f7e3ae64" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Output and data files" href="output.html" />
    <link rel="prev" title="2. Building the code" href="build.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="manual.html" class="icon icon-home">
            RUMDEED
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#features">1.1. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#acknowledgments">1.2. Acknowledgments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build.html">2. Building the code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="build.html#cuba-library">2.1. Cuba library</a></li>
<li class="toctree-l2"><a class="reference internal" href="build.html#documentation">2.2. Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Input files and running the code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#input-files">3.1. Input files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-file">3.1.1. Input file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#work-function">3.1.2. Work function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#laser">3.1.3. Laser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">3.2. Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#space-charge-limited-photo-emission">3.2.1. Space charge limited photo emission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#planar-field-emission">3.2.2. Planar field emission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#field-emission-from-a-prolate-spheroidal-tip">3.2.3. Field emission from a prolate spheroidal tip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#planar-thermal-field-emission">3.2.4. Planar thermal-field emission</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-code">3.3. Running the code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output.html">4. Output and data files</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">5. Data analysis examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html#checkerboard">6. Checkerboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#thermal-field-emission">6.1. Thermal field emission</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#read-input-parameters">6.2. Read input parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#emission-information">6.2.1. Emission information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html#current">6.3. Current</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#density">6.4. Density</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#plot-emission-density">6.4.1. Plot emission density</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#plot-absorption-density">6.4.2. Plot absorption density</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html#emittance-data">6.5. Emittance data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#calculates-the-emittance">6.5.1. Calculates the emittance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code.html">7. Code description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="code.html#verlet">7.1. Verlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="code.html#photo-emission">7.2. Photo emission</a></li>
<li class="toctree-l2"><a class="reference internal" href="code.html#field-emission">7.3. Field emission</a></li>
<li class="toctree-l2"><a class="reference internal" href="code.html#thermal-field-emission">7.4. Thermal-field emission</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bib.html">8. Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="manual.html">RUMDEED</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="manual.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">3. </span>Input files and running the code</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="build.html" class="btn btn-neutral float-left" title="2. Building the code" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="4. Output and data files" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="input-files-and-running-the-code">
<span id="run"></span><h1><span class="section-number">3. </span>Input files and running the code<a class="headerlink" href="#input-files-and-running-the-code" title="Link to this heading"></a></h1>
<p>Once you have <a class="reference internal" href="build.html#build"><span class="std std-ref">downloaded the source code and build the executable</span></a> you can run program using the instructions below.</p>
<section id="input-files">
<h2><span class="section-number">3.1. </span>Input files<a class="headerlink" href="#input-files" title="Link to this heading"></a></h2>
<p>The RUMDEED program is executed from the command line and retrieves input parameters from various input files.
These files should be located in the same directory as the RUMDEED executable file. The primary input file, named <strong>input</strong>, is always necessary.
Additional input files are only required when utilizing specific functionalities of the program.</p>
<section id="input-file">
<h3><span class="section-number">3.1.1. </span>Input file<a class="headerlink" href="#input-file" title="Link to this heading"></a></h3>
<p>The program will read the file called <strong>input</strong> when it starts. This file defines the simulation parameters to be used and is a Fortran namelist file.
The parameters are described below, with an example given at the end.</p>
<dl>
<dt>V_S</dt><dd><p>A number in units of Volts [V] that specifies the voltage from the source.</p>
</dd>
<dt>BOX_DIM(1:3)</dt><dd><p>Dimensions of the simulations box given as three numbers in nano-meters [nm]. Should specify x, y and z. For now only the z value is used.</p>
</dd>
<dt>TIME_STEP</dt><dd><p>The size of the timestep Δt in the simulation given in pico-seconds [ps].</p>
</dd>
<dt>STEPS</dt><dd><p>Number of timesteps to do in the simulations. Should be an integer number large than zero.</p>
</dd>
<dt>EMISSION_MODE</dt><dd><p>The emission mode controls the type of emission from the cathode. It should given as one of the following integer numbers:</p>
<p>1: <a class="reference internal" href="code.html#photo"><span class="std std-ref">Photo emission</span></a>.</p>
<p>3: <a class="reference internal" href="code.html#field-tip"><span class="std std-ref">Field emission from a hyperboloid tip</span></a>.</p>
<p>9: <a class="reference internal" href="code.html#thermal-field"><span class="std std-ref">Thermal-field emission</span></a>.</p>
<p>10: <a class="reference internal" href="code.html#field"><span class="std std-ref">Planar field emission</span></a>.</p>
</dd>
<dt>NREMIT</dt><dd><p>Number of emitters in the system. Should be an integer larger than zero. Note that not all emission modes support multiple emitters.</p>
</dd>
<dt>IMAGE_CHARGE</dt><dd><p>Boolean (.TRUE. / .FALSE.) if system should include image charge effects.</p>
</dd>
<dt>EMITTERS_DIM(1:3, &lt;EMITTER NUMBER&gt;)</dt><dd><p>Dimensions of the emitter given as three numbers in nano-meters [nm].
If the emitter is a circle the first number is interpreted as the radius of the emitter,
second is used for workfunction definitions and should be identical to the first number.
For a rectangular emitter the first two numbers represent the length in the x and y directions respectively.
Is the emitter is a hyperboloid tip the first number distance from the peak of the tip to the anode. The second number is the base radius of the tip
and the last number is the height of the tip. See <a class="reference internal" href="code.html#field-tip"><span class="std std-ref">Field emission from a hyperboloid tip</span></a> in the code description for more details.
Here <strong>&lt;EMITTER NUMBER&gt;</strong> should be replaced by the number of the emitter.
This line should be given for all emitters in the system.</p>
</dd>
<dt>EMITTERS_POS(1:3, &lt;EMITTER NUMBER&gt;)</dt><dd><p>Position of the emitter given as three numbers in nano-meters [nm]. Here <strong>&lt;EMITTER NUMBER&gt;</strong> should be replaced by the number of the emitter.
This line should be given for all emitters in the system.
The position for circle and rectangle is measured from lower left corner of the rectangle (enclosing the circle).</p>
</dd>
<dt>EMITTERS_TYPE(&lt;EMITTER NUMBER&gt;)</dt><dd><p>Geometry of the emitter is given as an integer. It should be given as one of the following integer numbers:</p>
<p>1: Circular emitter. Only photo emission supports circular emitters.</p>
<p>2: Rectangle.</p>
<p>3: Rectangle spots.</p>
<p>Here <strong>&lt;EMITTER NUMBER&gt;</strong> should be replaced by the number of the emitter. This line should be given for all emitters in the system.</p>
</dd>
<dt>EMITTERS_DELAY(&lt;EMITTER NUMBER&gt;)</dt><dd><p>The timestep the emitter should become active and start emitting. Here <strong>&lt;EMITTER NUMBER&gt;</strong> should be replaced by the number of the emitter.
This line should be given for all emitters in the system.</p>
</dd>
</dl>
<p>An example <a class="reference download internal" download="" href="_downloads/a782dae52dac1debdcc4c6c31a9139b7/input"><code class="xref download docutils literal notranslate"><span class="pre">input</span> <span class="pre">file</span></code></a> with one emitter doing planar field emission can be seen below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&amp;INPUT
  V_S = 1.0d3,
  BOX_DIM = 0.0d0, 0.0d0, 1000.0d0,
  TIME_STEP = 0.25d-3,
  STEPS = 20000,
  EMISSION_MODE = 10,
  NREMIT = 1,
  IMAGE_CHARGE = .TRUE.

  EMITTERS_DIM(1:3, 1) 1000.0d0, 1000.0d0, 0.0d0,
  EMITTERS_POS(1:3, 1) = -500.0d0, -500.0d0, 0.0d0,
  EMITTERS_TYPE(1) = 2,
  EMITTERS_DELAY(1) = 0,
/
</pre></div>
</div>
</section>
<section id="work-function">
<h3><span class="section-number">3.1.2. </span>Work function<a class="headerlink" href="#work-function" title="Link to this heading"></a></h3>
<p>To specify the work function on the emitter surface for field emission and thermal-field emission, an input file called <strong>work</strong> is utilized.
For the hyperboloid tip surface, the work function needs to be specified within the file <strong>mod_emission_top.f90</strong> using the work variable.</p>
<p>The first line must contain an integer number. Currently, only the number 1 is supported, indicating a checkerboard work function surface.
The second line should consist of two integer numbers, representing the number of rows and columns in the checkerboard, respectively.
The remaining portion of the file should consist of a matrix of numbers that correspond to the work function values within the checkerboard.
It is important to note that the checkerboard functionality is only supported for a single emitter.</p>
<p>An example checkerboard <a class="reference download internal" download="" href="_downloads/6a894f8503ab0d4e3a926e3a2743cce0/work"><code class="xref download docutils literal notranslate"><span class="pre">work</span> <span class="pre">input</span> <span class="pre">function</span> <span class="pre">file</span></code></a> can be seen below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1
2 2
2.5d0 3.0d0
3.0d0 2.5d0
</pre></div>
</div>
</section>
<section id="laser">
<h3><span class="section-number">3.1.3. </span>Laser<a class="headerlink" href="#laser" title="Link to this heading"></a></h3>
<p>Laser file</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1 2 2</span>
<span class="go">4.7 0.02</span>
<span class="go">10000 1000 5</span>
</pre></div>
</div>
<p>The header/first line sets parameters;
The first number enables Gaussian electron emission pulse, 1 = on, 2 = off.
Second number selects type of laser input, 1 for fixed photon energy, 2 for Poisson distributed photon energy.
Third number picks velocity profile for electrons, 1 being zero initial velocity, 2 for work function dependant inital velocity.</p>
<p>Second line is laser (photon) energy and variation, first being the laser ‘mean’ energy level in electronVolts (eV) and second being standard deviation of the laser (in eV’s as well).
This is normal distribution with Box-Muller method.
For work function dependant initial velocity the energy is compared to the work function with the excess making way for Newtonian velocity given to the electrons.</p>
<p>Third line is gauss pulse parameters, center (mu), width (sigma) and A(mplitude) of the pulse.
The gaussian pulse is simulated with output restriction of electrons according to normal distribution.
This should in theory simulate the Quantum Efficiency and Intensity via amplitude modulation.</p>
</section>
</section>
<section id="examples">
<h2><span class="section-number">3.2. </span>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>A few examples of input files can be found in the Examples folder.</p>
<section id="space-charge-limited-photo-emission">
<h3><span class="section-number">3.2.1. </span>Space charge limited photo emission<a class="headerlink" href="#space-charge-limited-photo-emission" title="Link to this heading"></a></h3>
<p>Photoemission</p>
</section>
<section id="planar-field-emission">
<h3><span class="section-number">3.2.2. </span>Planar field emission<a class="headerlink" href="#planar-field-emission" title="Link to this heading"></a></h3>
<p>The examples for planar field emission can be found in Examples/Planar-FE/ folder. Examples for homogeneous work function of 2.0 eV is given along with an alternating 2.0 and 2.5 eV
checkerboard work function pattern.</p>
<p>Input file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;INPUT
  V_S = 2.0d3,                       ! Voltage over the gap in volts
  BOX_DIM = 0.0d0, 0.0d0, 1000.0d0,   ! Simulations unit size in nano-meter, last number is gap spacing. Others ignored
  TIME_STEP = 1.00d-4,                ! Size of the time step in pico-seconds
  STEPS = 2000,                       ! Number of steps to do in the simulation
  EMISSION_MODE = 10,                 ! Emission mode, field emission = 10, space charge limited = 1, thermal field emission = 9
  NREMIT = 1,                         ! Number of emitters in the system
  IMAGE_CHARGE = .True.,              ! True means use image charge effects
  N_IC_MAX = 1,                       ! Number of image charge partners to use
  COLLISIONS = .False.,               ! Ion collisions with N2, still in development
  T_temp = 293.15d0,                  ! Temperature for ion gas or cathode if thermal-field emission
  P_abs = 1.0d0,                      ! Pressure for ion gas

  EMITTERS_DIM(1:3, 1) = 500.0d0, 500.0d0, 0.0d0, ! Dimensions of the emitter x and y in nano-meters, z is ignored
  EMITTERS_POS(1:3, 1) = -250.0d0, -250.0d0, 0.0d0, ! x and y position of the emitter in nano-meters, z is ignored
  EMITTERS_TYPE(1) = 2,                           ! Type of emitter rectangle = 2, (circle = 1 has not been tested properly)
  EMITTERS_DELAY(1) = 0,                          ! In what time step the emitter should be turned on
/
</pre></div>
</div>
<p>Work function file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>
<span class="mi">1</span> <span class="mi">1</span>
<span class="mf">2.00</span>
</pre></div>
</div>
</section>
<section id="field-emission-from-a-prolate-spheroidal-tip">
<h3><span class="section-number">3.2.3. </span>Field emission from a prolate spheroidal tip<a class="headerlink" href="#field-emission-from-a-prolate-spheroidal-tip" title="Link to this heading"></a></h3>
<p>Tip</p>
</section>
<section id="planar-thermal-field-emission">
<h3><span class="section-number">3.2.4. </span>Planar thermal-field emission<a class="headerlink" href="#planar-thermal-field-emission" title="Link to this heading"></a></h3>
<p>Thermal-field</p>
</section>
</section>
<section id="running-the-code">
<h2><span class="section-number">3.3. </span>Running the code<a class="headerlink" href="#running-the-code" title="Link to this heading"></a></h2>
<p>To run the code place the necessary input files into the same folder as the executable file <a class="reference internal" href="build.html#build"><span class="std std-ref">“RUMDEED.out”</span></a>. The execute the code by running the following command
inside the folder</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./RUMDEED.out</span>
</pre></div>
</div>
<p>Output files will be placed in a folder called out and are described in <a class="reference internal" href="output.html#output"><span class="std std-ref">Output and data files</span></a>.</p>
<span class="target" id="index-0"></span></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="build.html" class="btn btn-neutral float-left" title="2. Building the code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="4. Output and data files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NanoPhysics group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>